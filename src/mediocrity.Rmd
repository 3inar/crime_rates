---
title: "Mediocrity"
author: "Einar Holsb√∏"
date: "2 January 2017"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir="..")
```
```{r, include=F}
library(ProjectTemplate); load.project()  # load project
```

Do crime rates regress toward mediocrity? If they did, it would make 100% sense 
to do shrinkage.

## Regresession Toward Mediocrity in Hereditary Violence

```{r violence}
violence <- norwegian_crime %>% filter(crime_type == "Voldskriminalitet") %>%
            select(-crime_type) %>% transmute(place, year, rate=reports/population)

compare_years <- function(y1, y2) {
  mean_all_years <- mean(violence$rate)
  two_years <- violence %>% spread(year, rate)
  two_years <- two_years[, c(y1, y2)] %>% na.omit
  plot(two_years, pch=20, col='grey75', bty="n")
  abline(0,1, col="grey18")
  abline(lm(two_years), col='red')
  abline(h=mean_all_years, lty="dashed", col="grey18")
}

par(mfrow=c(1,3))
compare_years("2010", "2011")
compare_years("2012", "2014")
compare_years("2010", "2009")
```

The above plots show crime rate comparisons for different pairs of years. The
dashed line is the mean crime rate through all years, the solid dark line is
$x=y$ (indicating no change), and the red line is the least squares regression
line in these data. As we can see, the regression line does indeed tip toward
the mean. This was true for the handful of pairwise comparisons I did by hand when
writing this.
